window.__env=(function(c,a){var b={isWebkit:/webkit/i.test(a),isChrome:/chrome/i.test(a),isTouch:!!("ontouchstart" in c),isAndroid:/android/i.test(a),isIOS:/(iphone|ipad|ipod)/i.test(a),isFF:/firefox/i.test(a),isIE:false,isIE7:false,isIE8:false,isIE9:false,isIE10:!!(a.indexOf("msie 10.0")!==-1),isIE11:!!(a.indexOf("trident/7")!==-1),isEdge:!!(a.indexOf("edge")!==-1),oldIE:false,isWin:false,isWinLegacy:false,dpr:c.devicePixelRatio||(c.screen.deviceXDPI/c.screen.logicalXDPI)||1,bigImage:false,isRetina:false,_zm:1,androidVersion:function(){var d=parseFloat(a.slice(a.indexOf("android")+8));return d},checkSmartPhone:function(){if(a.indexOf("iphone")>0||a.indexOf("ipod")>0||a.indexOf("android")>0&&a.indexOf("mobile")>0){return true}else{return false}}};return b})(this,window.navigator.userAgent.toLowerCase());window.movieFit=(function(c,a,d,b){const e={init:function(){console.log("movieFit init");d(c).on("resize",function(){movieFit.resizeMovie()});this.resizeMovie()},resizeMovie:function(){let $wrapper=d(".movie-center"),dW=$wrapper.attr("data-w"),dH=$wrapper.attr("data-h");$wrapper.each(function(){let $w=d(this),wW=$w.width(),wH=$w.height(),$m=$w.find(".tgt-movie"),mW=$m.width(),mH=$m.height();if(mH===0||mH===b){mH=wW/dW*dH}if(mW===0||mW===b){mW=wH/dH*dW}if(wW<1000||mH<wH){$m.css({marginTop:0,marginLeft:(wW-mW)*0.5})}else{$m.css({marginTop:(wH-mH)*0.5,marginLeft:0})}})}};return e})(this,this.document,jQuery);window.whill=(function(e,a,g,d,c,b){const f={init:function(){if(g(".maas2020").length>0){f.maas.init()}if(g(".top-about-us").length>0){f.about_us.init()}}};f.overlay={__set:function(h,j,i){console.log("overlay set");let $tgt,callback=(typeof h==="function")?h:b,closeEvent=(typeof j==="boolean")?j:false,callbackClose=(typeof i==="function")?i:b;if(g("#overlay_all").length<1){$tgt=g('<div id="overlay_all" />').html('<div class="inner"></div>');if(c.isFF||c.isEdge){g("body").append($tgt)}else{g("#viewport").append($tgt)}}if(closeEvent){$tgt.on("click",function(k){f.overlay.close(callbackClose);k.preventDefault()})}d.to($tgt,{autoAlpha:1,ease:"Power2.easeOut",duration:0.6,onComplete:function(){if(typeof callback==="function"){callback()}}})},__close:function(h){console.log("overlay close");let $tgt=g("#overlay_all"),callback=(typeof h==="function")?h:b;if($tgt.length>0){d.to($tgt,{duration:0.4,autoAlpha:0,ease:"Power2.easeOut",onComplete:function(){$tgt.remove();if(typeof callback==="function"){callback()}}})}}};f.about_us={init:function(){console.log("About us init");this.initSlides()},initSlides:function(){console.log("slide init");g(".slide-item").removeClass("no-disp");d.set("#about-us-slide1",{autoAlpha:1});g("#slide-nav-next").on("click",function(){f.about_us.nextSlide()});g("#slide-nav-prev").on("click",function(){f.about_us.prevSlide()})},nextSlide:function(){let $wrapper=g("#slideWrapper"),now=parseInt($wrapper.attr("data-current"),10),max=parseInt($wrapper.attr("data-max"),10),tgtNum=(now<max)?now+1:1;console.log("nextSlide --- "+now+", "+tgtNum);d.to("#about-us-slide"+now,{autoAlpha:0,ease:"Power2.easeOut",duration:0.4});d.to("#about-us-slide"+tgtNum,{autoAlpha:1,ease:"Power2.easeOut",duration:0.4});$wrapper.attr("data-current",tgtNum)},prevSlide:function(){let $wrapper=g("#slideWrapper"),now=parseInt($wrapper.attr("data-current"),10),max=parseInt($wrapper.attr("data-max"),10),tgtNum=(now>1)?now-1:max;console.log("prevSlide --- "+now+", "+tgtNum);d.to("#about-us-slide"+now,{autoAlpha:0,ease:"Power2.easeOut",duration:0.4});d.to("#about-us-slide"+tgtNum,{autoAlpha:1,ease:"Power2.easeOut",duration:0.4});$wrapper.attr("data-current",tgtNum)}};f.maas={init:function(){console.log("MaaS init");this.initYouTubeMovieBtn();this.initSolutionBtn()},initYouTubeMovieBtn:function(){let $btn=g("#btn-maas-vision, #btn-maas-system-airport, #btn-maas-system-museum");$btn.on("click",function(){let $this=g(this),movieID=$this.attr("data-yt");console.log(movieID);f.maas.hideSolution();if(g("#movieWrapper").length>0){g("#movieWrapper").html('<iframe width="640" height="360" src="//www.youtube.com/embed/'+movieID+'?rel=0" frameborder="0" allowfullscreen></iframe>')}else{f.overlay.__set(f.maas.setMovie(movieID))}})},initSolutionBtn:function(){let $btn=g(".solution-btn");$btn.on("click",function(){let $this=g(this),idStr=$this.attr("data-service");console.log(idStr);f.maas.showSolution(idStr)});g("#solution-close").on("click",function(){f.maas.hideSolution()})},showSolution:function(h){let $items=g(".solution-item"),$tgt=g("#"+h);$items.addClass("no-disp");$tgt.removeClass("no-disp");d.to("#solution-detail-wrapper",{autoAlpha:1,ease:"Power2.easeOut",duration:0.6})},hideSolution:function(){d.to("#solution-detail-wrapper",{autoAlpha:0,ease:"Power2.easeOut",duration:0.6,onComplete:function(){g(".solution-item").addClass("no-disp")}})},setMovie:function(h){console.log("maas setMovie "+h);let htmlSrc='<div id="movieWrapper"><iframe width="640" height="360" src="//www.youtube.com/embed/'+h+'?rel=0" frameborder="0" allowfullscreen></iframe></div><a href="javascript:whill.overlay.__close()" class="btn-close replaceElm">close</a>',$wrapper=g("#overlay_all").find(".inner").eq(0);if($wrapper.length>0){$wrapper.html(htmlSrc)}else{setTimeout(function(){f.maas.setMovie(h)},400)}}};return f})(this,this.document,jQuery,gsap,window.__env);$(document).ready(function(){if($(".movie-center").length>0){movieFit.init()}whill.init()});